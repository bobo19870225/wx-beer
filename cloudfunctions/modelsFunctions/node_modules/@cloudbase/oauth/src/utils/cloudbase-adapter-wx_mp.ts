/**
 * 判断是否为小程序runtime
 */
declare const wx
declare const Page
export function isMatch(): boolean {
  if (typeof wx === 'undefined') {
    return false
  }
  if (typeof Page === 'undefined') {
    return false
  }
  if (!wx.getSystemInfoSync) {
    return false
  }
  if (!wx.getStorageSync) {
    return false
  }
  if (!wx.setStorageSync) {
    return false
  }
  if (!wx.connectSocket) {
    return false
  }
  if (!wx.request) {
    return false
  }

  try {
    if (!wx.getSystemInfoSync()) {
      return false
    }

    if (wx.getSystemInfoSync().AppPlatform === 'qq') {
      return false
    }
  } catch (e) {
    return false
  }

  return true
}
