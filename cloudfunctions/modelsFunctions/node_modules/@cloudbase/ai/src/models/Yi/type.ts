type SystemMessage = {
  role: 'system'
  content: string
}

type UserMessage = {
  role: 'user'
  content: string
}

type AssistantMessage = {
  role: 'assistant'
  content: string
}

type ToolMessage = {
  role: 'tool'
  content: string
  tool_call_id: string
}

type YiMessage = SystemMessage | UserMessage | AssistantMessage | ToolMessage

export type YiInputData = {
  model: string
  messages: Array<YiMessage>
  tools?: Array<{
    type: 'function'
    function: { name: string; description?: string; parameters: object }
  }>
  tool_choice?: string | object
  max_tokens?: number | null
  top_p?: number
  temperature?: number
}

// todo: more precise
export type YiGenerateTextOutput = {
  choices?: Array<{
    message?: { content?: string }
  }>
}

// todo: more precise
export type YiStreamTextOutput = {
  choices?: Array<{
    delta?: { content?: string }
  }>
}
